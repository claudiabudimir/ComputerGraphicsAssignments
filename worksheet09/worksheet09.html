<head>
    <script type="text/javascript" src="../common/webgl-utils.js"></script>
    <script type="text/javascript" src="../common/initShaders.js"></script>
    <script type="text/javascript" src="../common/MV.js"></script>
    <script type="text/javascript" src="../common/OBJParser.js"></script>
    <link rel="stylesheet" href="../assets/style.css">
</head>

<html>



<body>
    <h2 style="text-align: center; ">WORKSHEET 9: Shadow mapping</h2>
    <hr class="dashed">

    <h2>Part 1 - Scene and projection
        shadows for reference</h2>
    <canvas id="gl-canvas1" width="512" height="512">
        Web browser does not support HTML5’s canvas element.
    </canvas>
    <div>
        <button id="motion1">Motion On/Off</button>
        <button id="above1">Look from above</button>
        <button id="light1">Light animation</button>
    </div>


    <hr class="dashed">
    <h2>Part 2 - Shadow mapping</h2>
    <canvas id="gl-canvas2" width="512" height="512">
        Web browser does not support HTML5’s canvas element.
    </canvas>

    <hr class="dashed">
    <h2>Part 3 - Theory</h2>
    <ul>
        <li><b>QUESTION:</b>Compare projection shadows to shadow mapping by listing advantages and disadvantages of the
            two techniques.</li>
        <li><b>ANSWER:</b> <br></li>

        <li> <b>Projection Shadows - Advantages</b> <br> Easier implementation;<br> Easy to
            compute(i.e. it's not costly for the machine) </li>
        <li><b>Projection Shadows - Disadvantages </b><br> Missing self-shadowing;<br> Only optimal for simple
            environments;<br> Impractical when objects cast shadows on other objects </li>
        <br><br>
        <li><b>Shadow Mapping - Advantages</b> <br> Allows self-shadowing;<br> Only one single texture required to hold
            shadowing information for each light;<br> Uses stored depth information to calculate light visibility;<br>
            It's universal for all primitive types and reduces overall complexity;<br>
            Doesn't need knowledge about the scene since it's an image space technique, works with created/altered
            objects on the gpu;</li>
        <li><b>Shadow Mapping - Disadvantages </b><br> Implementation difficulty very high;<br> Aliasing
            (staircase/pixelation/jaggies); </li>


    </ul>

   <!--Part 1 -->
    <script id="vertex-shader-1obj" type="x-shader/x-vertex">
        attribute vec4 a_Position;
        attribute vec4 a_Normal; 
        attribute vec4 a_Color;

        varying vec4 v_Color;
        
        uniform mat4 modelViewMatrix;
        uniform mat4 projectMatrix;

        void main() {
            v_Color = a_Color;
            gl_Position =  projectMatrix * modelViewMatrix * a_Position ;
        }
    </script>
    <script id="fragment-shader-1obj" type="x-shader/x-fragment">
        precision mediump float;
        varying vec4 v_Color;

        uniform float visibility;
        void main(){

            if(visibility == 1.0){
                gl_FragColor = v_Color;
            }else{
                gl_FragColor = vec4(0.0,0.0,0.0, 0.8);
            }
        }
    </script>
    <script id="vertex-shader-1ground" type="x-shader/x-vertex">
        attribute vec4 a_Position;
        attribute vec2 a_TexCoord;
        
        varying vec2 v_TexCoord;

        uniform mat4 projectMatrix;
        uniform mat4 modelViewMatrix;

        void main() {
           
            v_TexCoord = a_TexCoord;
            gl_Position =  projectMatrix * modelViewMatrix * a_Position;
        }
    </script>
    <script id="fragment-shader-1ground" type="x-shader/x-fragment">
        precision mediump float;

        varying vec2 v_TexCoord;
        
        uniform sampler2D texMap;
        
        void main(){
            gl_FragColor = texture2D(texMap, v_TexCoord);
        }

    </script>
    <script type="text/javascript" src="Part1.js"></script>
</body>
</html>